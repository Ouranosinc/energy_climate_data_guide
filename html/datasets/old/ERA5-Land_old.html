<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Surface temperature (T2m) products of the ECMWF Reanalysis 5th Generation Land (ERA5-Land) – Climate Data for the Electricity Sector</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles/styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Surface temperature (T2m) products of the ECMWF Reanalysis 5th Generation Land (ERA5-Land)</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../image/Logo_McMaster_and_Ouranos.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Climat change impacts on electricity systems</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Generation</span></span>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Transmission and distribution</span></span>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../literature_review/demand.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demand</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../sectors/electricity_sector_activities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Electricity Sector Activities</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/capacity_expansion_modelling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Capacity Expansion Modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/construction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Construction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/dam_safety_review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dam Safety Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/demand_forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demand Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/electrical_system_operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Electrical System Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/enterprise_risk_management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Enterprise Risk Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/esg_and_sustainability_reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ESG &amp; Sustainability Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/forest_fire_monitoring_and_awareness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forest Fire Monitoring and Awareness</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/generation_forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generation Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/infrastructure_condition_assessment_and_investment_prioritization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Infrastructure Condition Assessment &amp; Investment Prioritization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/infrastructure_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Infrastructure Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/infrastructure_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Infrastructure Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/licensing_and_impact-environmental_assessments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Licensing &amp; Impact/Environmental Assessments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/nuclear_safety_review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nuclear Safety Reviews</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/outage_scheduling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outage Scheduling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/proactive_management_of_heavily_loaded_assets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Proactive management of heavily loaded assets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/resource_adequacy_planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resource Adequacy Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/support_supply_chain_decision-making.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support supply chain decision-making</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/vegetation_management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vegetation Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sectors/worker_safety.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Worker safety</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../datasets/Climate_Dataset_Overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Climate Datasets</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../datasets/observed_data/Observational_Datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Observational Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/observed_data/AHCCD_Station_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Adjusted and Homogenized Canadian Climate Data (AHCCD)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/observed_data/NRCanMET_Gridded_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANUSPLIN Canadian Gridded Climate Dataset (NRCanMET)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../datasets/reanalysis_data/Reanalysis_Datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reanalysis Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/reanalysis_data/ERA5-Land.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ECMWF ERA5-Land</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/reanalysis_data/CaSR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Canadian Surface Reanalysis - CaSR</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../datasets/climate_projection_data/Climate_Projection_Datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Climate Projection Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/climate_projection_data/ESPO-G6_Dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ESPO-G6 Dataset</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../datasets/tools/Analysis_Support_Tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis Support Tools</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../datasets/tools/Point_Location_Compare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A tool for dataset comparison: Observational Data at a point location</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="-1">
    <h2 id="toc-title">Content</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#providers-contact-information" id="toc-providers-contact-information" class="nav-link" data-scroll-target="#providers-contact-information">Provider’s contact information</a></li>
  <li><a href="#licensing" id="toc-licensing" class="nav-link" data-scroll-target="#licensing">Licensing</a></li>
  <li><a href="#variable-name-and-units" id="toc-variable-name-and-units" class="nav-link" data-scroll-target="#variable-name-and-units">Variable name and units:</a></li>
  <li><a href="#spatial-coverage-and-resolution" id="toc-spatial-coverage-and-resolution" class="nav-link" data-scroll-target="#spatial-coverage-and-resolution">Spatial coverage and resolution:</a></li>
  <li><a href="#temporal-coverage-and-resolution" id="toc-temporal-coverage-and-resolution" class="nav-link" data-scroll-target="#temporal-coverage-and-resolution">Temporal coverage and resolution:</a></li>
  <li><a href="#information-about-observations-number-homogeneity" id="toc-information-about-observations-number-homogeneity" class="nav-link" data-scroll-target="#information-about-observations-number-homogeneity">Information about observations (number, homogeneity)</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  <li><a href="#information-about-the-technical-and-scientific-quality" id="toc-information-about-the-technical-and-scientific-quality" class="nav-link" data-scroll-target="#information-about-the-technical-and-scientific-quality">Information about the technical and scientific quality</a></li>
  <li><a href="#limitations-and-strengths-for-application-in-canada." id="toc-limitations-and-strengths-for-application-in-canada." class="nav-link" data-scroll-target="#limitations-and-strengths-for-application-in-canada.">Limitations and strengths for application in Canada.</a></li>
  <li><a href="#references-to-documents-describing-the-methodology-orand-the-dataset" id="toc-references-to-documents-describing-the-methodology-orand-the-dataset" class="nav-link" data-scroll-target="#references-to-documents-describing-the-methodology-orand-the-dataset">References to documents describing the methodology or/and the dataset</a></li>
  <li><a href="#link-to-download-the-data-and-format-of-data" id="toc-link-to-download-the-data-and-format-of-data" class="nav-link" data-scroll-target="#link-to-download-the-data-and-format-of-data">Link to download the data and format of data:</a></li>
  <li><a href="#link-to-download-hourly-and-monthly-data-on-copernicus" id="toc-link-to-download-hourly-and-monthly-data-on-copernicus" class="nav-link" data-scroll-target="#link-to-download-hourly-and-monthly-data-on-copernicus">Link to download hourly and monthly data on Copernicus:</a></li>
  <li><a href="#publications-including-dataset-evaluation-or-comparison-with-other-data-in-canada" id="toc-publications-including-dataset-evaluation-or-comparison-with-other-data-in-canada" class="nav-link" data-scroll-target="#publications-including-dataset-evaluation-or-comparison-with-other-data-in-canada">Publications including dataset evaluation or comparison with other data in Canada</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Surface temperature (T2m) products of the ECMWF Reanalysis 5th Generation Land (ERA5-Land)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This document provides an overview of the near-surface temperature products (T2m) of ERA5-Land, in the context of the larger ERA5-Land dataset. ERA5-Land is a replay of the land component of the ERA5 atmospheric global reanalysis using a finer spatial resolution and including a series of improvements making it more accurate for all types of land applications. ERA5-Land is produced by ECMWF framed within the Copernicus Climate Change Service (C3S) of the European Commission. The data covers a period from January 1950 to the present. It provides hourly data for many near-surface atmospheric and land-surface parameters.</p>
</section>
<section id="providers-contact-information" class="level2">
<h2 class="anchored" data-anchor-id="providers-contact-information">Provider’s contact information</h2>
<p>ERA5-Land is produced by the Copernicus Climate Change Service (C3S) at ECMWF.</p>
<p>Copernicus User support (copernicus-support@ecmwf.int (external to C3S)).</p>
</section>
<section id="licensing" class="level2">
<h2 class="anchored" data-anchor-id="licensing">Licensing</h2>
<p>Licence: Copernicus (Licence agreement information can be found <a href="https://cds.climate.copernicus.eu/api/v2/terms/static/licence-to-use-copernicus-products.pdf">here</a> or <a href="http://apps.ecmwf.int/datasets/licences/copernicus">here</a>).</p>
<p>Dataset citable as: <strong>Muñoz Sabater, J.</strong>, (2019): ERA5-Land hourly data from 1981 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), https://doi.org/10.24381/cds.e2161bac</p>
</section>
<section id="variable-name-and-units" class="level2">
<h2 class="anchored" data-anchor-id="variable-name-and-units">Variable name and units:</h2>
<p>The 2 m temperature product (K) of ERA5-Land over northern Canada is the main focus of this document. 2 m temperature is calculated by interpolating between the lowest model level and the Earth’s surface, taking account of the atmospheric conditions. This parameter has units of kelvin (K). Temperature measured in kelvin can be converted to degrees Celsius (°C) by subtracting 273.15. Hourly and monthly subsets are available.</p>
<p>The ERA5-Land 2 m temperature product can be found as follows:</p>
<ul>
<li><p>Select 2 m temperature <a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land?tab=overview">hourly data from 1950 to present</a>,</p></li>
<li><p>Select 2 m temperature <a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land-monthly-means?tab=overview">monthly averaged data from 1981 to present</a>,</p></li>
</ul>
<p>In ERA5-Land, hourly “2 m temperature” is an instantaneous parameter provided at hourly time step from the analyses. Monthly data is pre-calculated as monthly-mean averages from hourly data.</p>
<p>ERA5-Land also provides values for 2 m dew point temperature and skin temperature. The following table describes the single-level temperature data available in ERA5-Land.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 1%">
<col style="width: 93%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th style="text-align: center;">Units</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2 m temperature</td>
<td style="text-align: center;">K</td>
<td>Temperature of air at 2 m above the surface of land, sea or inland waters. 2 m temperature is calculated by interpolating between the lowest model level and the Earth’s surface, taking account of the atmospheric conditions. Temperature measured in kelvin can be converted to degrees Celsius (°C) by subtracting 273.15.</td>
</tr>
<tr class="even">
<td>2 m dew point temperature</td>
<td style="text-align: center;">K</td>
<td>Temperature to which the air, at 2 m above the surface of the Earth, would have to be cooled for saturation to occur. It is a measure of the humidity of the air. Combined with temperature and pressure, it can be used to calculate the relative humidity. 2 m dew point temperature is calculated by interpolating between the lowest model level and the Earth’s surface, taking account of the atmospheric conditions. Temperature measured in kelvin can be converted to degrees Celsius (°C) by subtracting 273.15.</td>
</tr>
<tr class="odd">
<td>Skin temperature</td>
<td style="text-align: center;">K</td>
<td>Temperature of the surface of the Earth. The skin temperature is the theoretical temperature that is required to satisfy the surface energy balance. It represents the temperature of the uppermost surface layer, which has no heat capacity and so can respond instantaneously to changes in surface fluxes. Skin temperature is calculated differently over land and sea. Temperature measured in kelvin can be converted to degrees Celsius (°C) by subtracting 273.15.</td>
</tr>
</tbody>
</table>
</section>
<section id="spatial-coverage-and-resolution" class="level2">
<h2 class="anchored" data-anchor-id="spatial-coverage-and-resolution">Spatial coverage and resolution:</h2>
<p>ERA5-Land is a global land-surface dataset. The atmospheric data is available on a regular latitude-longitude grid at 0.1o x 0.1o resolution (converted from native reduced‐Gaussian grid resolution of approximately 9 km x 9 km), and on 4 surface layers. Oceans have been masked out with data available over landmasses and inland lakes.</p>
</section>
<section id="temporal-coverage-and-resolution" class="level2">
<h2 class="anchored" data-anchor-id="temporal-coverage-and-resolution">Temporal coverage and resolution:</h2>
<p>ERA5-Land 2 m temperature data is available from 1950 to present. The data is available at hourly and monthly sampling (see above).</p>
<p>ERA5-Land 2 m temperature data updates are made synchronously with ERA5 updates, approximately 2-3 months behind real time.</p>
</section>
<section id="information-about-observations-number-homogeneity" class="level2">
<h2 class="anchored" data-anchor-id="information-about-observations-number-homogeneity">Information about observations (number, homogeneity)</h2>
<p>ERA5-Land is not directly influenced by observations, but rather, indirectly influenced through the ERA5 atmospheric forcings. ERA5’s data assimilation uses observations for all geophysical quantities from about 0.75 million observations per day in 1979 and about 24 million in 2018. The 2D-OI uses surface observations at ‘screen level’. <a href="https://confluence.ecmwf.int/display/CKB/ERA5%3A+data+documentation">The online technical documentation</a> provides tables with the satellite and in-situ observations used as input into ERA5. Further details can also be found in the ERA5 document previously prepared by the CCCS.</p>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>ERA5-Land is produced under a single simulation of the land component of the ERA5 climate reanalysis, without coupling to the atmospheric module of the ECMWF’s Integrated Forecasting System (IFS) and without data assimilation. The low atmospheric forcing is provided by the ERA5 reanalysis, with additional lapse-rate correction. The core of ERA5-Land is the Tiled ECMWF Scheme for Surface Exchanges over Land incorporating land surface hydrology (H-TESSEL). Because it runs without data assimilation, it makes it computationally affordable for relatively quick updates. For example, if significant improvements of the land surface model are implemented, the whole or part of the dataset can be reprocessed in a relatively short period. Updates are possible in case improved auxiliary datasets are used as input for the production.</p>
<p>Production of ERA5-Land is not produced as a single continuous segment, but instead as three segments: Stream-1 (2001 onwards), Stream-2 (1981-2000), and Stream-3 (1950-1980). This is because it allows parallel production of data enabling sooner public access to the data, and because the atmospheric forcings used by ERA5-Land is derived from ERA5, thus needing corresponding completed ERA5 segment. Each stream is initialized with various meteorological fields from ERA5 (temperature, precipitation, humidity, radiation, etc.). While ERA5-Land does not assimilate observations directly, they are introduced via the ERA5 atmospheric forcings. These forcings are adjusted using ERA5 derived lapse rates before being integrated with the ECMWF Carbon Hydrology-Tiled ECMWF Scheme for Surface Exchanges over Land (CHTESSEL) land surface model. This is done in 24-hour cycles, generating hourly outputs and the evolution of the land surface state and water and energy fluxes. For further details of the assimilation system used to obtain the ERA5 atmospheric forcings, please see the ERA5 document previously prepared by the CCCS.</p>
<p>Uncertainty estimate: Currently, ERA5-Land variable uncertainty estimates are those corresponding to ERA5. ERA5 uncertainty estimate is sampled by a 10-member lower-resolution Ensemble Data Assimilation (EDA) which provides background-error estimates for the deterministic HRES 4D-Var Data Assimilation system. The analysis method is the same for each EDA member and follows that of the HRES. Each member (except the control) is run with different random perturbations added to the observations. Likewise, the model physical tendencies are perturbed in the short forecasts that link subsequent analysis windows. Ensemble mean and spread have been pre-computed for convenience. Such uncertainty estimates are closely related to the information content of the available observing system which has evolved considerably over time. They also indicate flow-dependent sensitive areas. To facilitate many climate applications, monthly-mean averages have been pre-calculated too, though monthly means are not available for the ensemble mean and spread.</p>
<p>The original plan was to apply the same methodology ERA5-Land to provide an estimate of the uncertainty fields as was done for ERA5. However, the uncertainty was estimated to be extremely low, and would have assigned unrealistically high confidence to the ERA5-Land variables. As such, it is recommended to use the corresponding ERA5 uncertainty estimates for the time being until further studies are done.</p>
</section>
<section id="information-about-the-technical-and-scientific-quality" class="level2">
<h2 class="anchored" data-anchor-id="information-about-the-technical-and-scientific-quality">Information about the technical and scientific quality</h2>
<p>ERA5-Land 2 m temperature represents one of the products of the latest global atmospheric reanalysis produced by Copernicus Climate Change Service at ECMWF. It is archived at a shorter (hourly) time step, has a fine spatial resolution, uses a more advanced assimilation system, and includes more sources of data than previous versions (e.g., ERA-Interim-Land). It is accompanied by extensive technical documentation and two principal scientific documentation papers. A list of ‘known issues’ is maintained at <a href="https://confluence.ecmwf.int/display/CKB/ERA5-Land%3A+data+documentation">the online documentation</a>.</p>
<p>Information on land surface model: The land surface model of the ERA5-Land was operational in 2018 with the IFS model cycle 45r1. While most of the changes from the IFS Cy41R2 used in ERA5 are primarily technical, there were a few improvements to various fields: 1) the parameterization of the soil thermal conductivity was updated to take the ice component of frozen soil into consideration, 2) conservation of the soil-water balance was fixed and improved, and 3) rain over snow is now accounted for and is not accumulated in snow pack. Furthermore, a bug exists in IFS Cy41R2, that affects potential evapotranspiration (PET) flux calculations over forests and deserts, has been corrected in ERA5-Land, and unlike ERA5, ERA5-Land PET is an available dataset. However, PET is now determined by assuming a vegetation type of crops and no soil moisture stress. These assumptions may not be always realistic, and therefore PET should be used cautiously. This is unlikely to affect ERA5-Land 2 m temperature in Canada’s north, but the user should be aware of the reason for this update. More information on the CHTESSEL land surface model used in ERA5-Land can be found in Muñoz-Sabater et al., (2021, preprint).</p>
</section>
<section id="limitations-and-strengths-for-application-in-canada." class="level2">
<h2 class="anchored" data-anchor-id="limitations-and-strengths-for-application-in-canada.">Limitations and strengths for application in Canada.</h2>
<p>ERA5-Land is a newer land surface reanalysis and there are few available scientific evaluations of the dataset dedicated specifically to northern Canada. However, it should be noted that in northern Canada, there are currently no sub-daily records over a long historical period for many weather stations. Reanalyses data with hourly output cover this gap and, with suitable investigation and calibration (downscaling), could be valuable particularly for hydrological models and sub-daily extremes analyses. ERA5-Land uses ERA5 atmospheric forcings that assimilates surface temperature from stations.</p>
<p>As for all gridded data, observed values of 2 m temperature at local scales can differ from the values provided by the gridded dataset, which represent a statistical summary of the area surrounding a grid point. Also, changes in the amounts and types of observational data that are assimilated may produce artificial trends or variability in 2 m temperature and other reanalysis variables.</p>
</section>
<section id="references-to-documents-describing-the-methodology-orand-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="references-to-documents-describing-the-methodology-orand-the-dataset">References to documents describing the methodology or/and the dataset</h2>
<p><strong>Muñoz Sabater, J.</strong>, 2019: ERA5-Land hourly data from 1981 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS). (Accessed on &lt; DD-Month-YYYY &gt;), https://doi.org/10.24381/cds.e2161bac</p>
<p><strong>Muñoz-Sabater, J.</strong>, E. Dutra, A. Agustí-Panareda, C. Albergel, G. Arduini, G., Balsamo, S. Boussetta, M. Choulga, S. Harrigan, H. Hersbach, B. Martens, D. G. Miralles, M. Piles, N. J. Rodríguez-Fernández, E. Zsoter, C. Buontempo, and J.-N. Thépaut, 2021: ERA5-Land: A state-of-the-art global reanalysis dataset for land applications. Earth System Science Data, 13(9), 4349-4383. https://doi.org/10.5194/essd-2021-82</p>
<p><strong>Hersbach, H.</strong>, B .Bell, P. Berrisford, S. Hirahara, A. Horányi, J. Muñoz‐Sabater, J. Nicolas, C. Peubey, R. Radu, D. Schepers, A. Simmons, C. Soci, S. Abdalla, X. Abellan, G. Balsamo, P. Bechtold, G. Biavati, J. Bidlot, M. Bonavita, G. Chiara, P. Dahlgren, D. Dee, M. Diamantakis, R. Dragani, J. Flemming, R. Forbes, M. Fuentes, A. Geer, L. Haimberger, S. Healy, R.J. Hogan, E. Hólm, M. Janisková, S. Keeley, P. Laloyaux, P. Lopez, C. Lupu, G. Radnoti, P. Rosnay, I. Rozum, F. Vamborg, S. Villaume, and J.-N. Thépaut, 2020: The ERA5 global reanalysis. Quarterly Journal of the Royal Meteorological Society, 146(730), 1999–2049. https://doi.org/10.1002/qj.3803.</p>
</section>
<section id="link-to-download-the-data-and-format-of-data" class="level2">
<h2 class="anchored" data-anchor-id="link-to-download-the-data-and-format-of-data">Link to download the data and format of data:</h2>
<p>Data Access: <a href="https://climate.copernicus.eu/climate-reanalysis">Copernicus</a> | <a href="https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5-land">ECMWF</a> (requires login)</p>
<p>ERA5-Land is available in GRIB and NetCDF formats</p>
</section>
<section id="link-to-download-hourly-and-monthly-data-on-copernicus" class="level2">
<h2 class="anchored" data-anchor-id="link-to-download-hourly-and-monthly-data-on-copernicus">Link to download hourly and monthly data on Copernicus:</h2>
<ul>
<li><p><a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land?tab=overview">hourly data from 1950 to present</a>,</p></li>
<li><p><a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land-monthly-means?tab=overview">monthly averaged data from 1981 to present</a></p></li>
</ul>
</section>
<section id="publications-including-dataset-evaluation-or-comparison-with-other-data-in-canada" class="level2">
<h2 class="anchored" data-anchor-id="publications-including-dataset-evaluation-or-comparison-with-other-data-in-canada">Publications including dataset evaluation or comparison with other data in Canada</h2>
<p><strong>Sheridan, S.C.</strong>, C.C. Lee, and E.T. Smith, 2020: A comparison between station observations and reanalysis data in the identification of extreme temperature events. Geophysical Research Letters, 47(15), e2020GL088120. (It compares observations, ERA5, ERA5-LAND, and NARR, in the United States and Canada- only a very small number of stations are in North Canada).</p>
<p><strong>Zhang, R.</strong>, S. Chan, R. Bindlish, and V. Lakshmi, 2021: Evaluation of Global Surface Water Temperature Data Sets for Use in Passive Remote Sensing of Soil Moisture. Remote Sensing, 13(10), 1872. https://doi.org/10.3390/rs13101872 (This paper compares various lake surface water temperature products, including ERA5-Land, with in-situ observations. Comparisons are primarily made around the great lakes, with only few points in the north)</p>
<p><strong>Cao, B.</strong>, S. Gruber, D. Zheng, and X. Li, 2020: The ERA5-Land soil temperature bias in permafrost regions. The Cryosphere, 14(8), 2581–2595. https://doi.org/10.5194/tc-14-2581-2020 (The paper examines ERA5-Land soil temperature in permafrost regions across the northern hemisphere, including parts of Northern Canada)</p>


</section>

</main> <!-- /main -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll("a[href^='http']").forEach(link => {
    if (!link.href.includes(window.location.hostname)) {
      link.target = "_blank";
      link.rel = "noopener noreferrer";
    }
  });
});
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>